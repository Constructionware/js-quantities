{
  "name": "JS-quantities",
  "tagline": "JavaScript library for quantity calculation and unit conversion",
  "body": "#JS-quantities\r\n\r\n[![Build Status](https://travis-ci.org/gentooboontoo/js-quantities.png)](https://travis-ci.org/gentooboontoo/js-quantities)\r\n\r\nJS-quantities is originally a JavaScript port of Kevin Olbrich's library Ruby\r\nUnits (http://github.com/olbrich/ruby-units).\r\n\r\nThe library aims to simplify the handling of units for scientific calculations\r\ninvolving quantities.\r\n\r\nJS-quantities is defined as an UMD module and can be used with AMD, Node\r\nand within browsers.\r\n\r\n## Installing JS-quantities\r\n\r\n### Browser\r\n\r\nDownload [latest release v1.6.1](https://raw.github.com/gentooboontoo/js-quantities/v1.6.1/src/quantities.js)\r\nor install it with Bower:\r\n\r\n    bower install js-quantities\r\n\r\nThen include it:\r\n\r\n```html\r\n<script src='quantities.js'></script>\r\n```\r\n\r\nWhen using [Require.JS](http://requirejs.org/):\r\n\r\n```javascript\r\ndefine(['quantities'], function(Qty) {\r\n  ...\r\n});\r\n```\r\n\r\n### Node\r\n\r\n```\r\n$ npm install js-quantities\r\n$ node\r\n> var Qty = require('js-quantities');\r\n```\r\n\r\n## Synopsis\r\n\r\n### Creation\r\n\r\nInstances of quantities are made by means of `Qty()` method. `Qty` can both be\r\nused as a constructor (with new) or as a factory (without new):\r\n\r\n```javascript\r\nqty = new Qty('23 ft'); // constructor\r\nqty = Qty('23 ft'); // factory\r\n```\r\n\r\n`Qty` constructor accepts strings, numbers and `Qty` instances as\r\ninitializing values.\r\n\r\nIf scalars and their respective units are available programmatically, the\r\ntwo argument signature may be useful:\r\n\r\n```javascript\r\nqty = new Qty(124, 'cm'); // => 1.24 meter\r\nqty = Qty(124, 'cm'); // => 1.24 meter\r\n```\r\n\r\nFor the sake of simplicity, one will use the factory way below but using\r\n`new Qty()` is equivalent.\r\n\r\n```javascript\r\nqty = Qty('1m'); // => 1 meter\r\nqty = Qty('m'); // =>  1 meter (scalar defaults to 1)\r\n\r\nqty = Qty('1 N*m');\r\nqty = Qty('1 N m'); // * is optional\r\n\r\nqty = Qty('1 m/s');\r\n\r\nqty = Qty('1 m^2/s^2');\r\nqty = Qty('1 m^2 s^-2'); // negative powers\r\nqty = Qty('1 m2 s-2'); // ^ is optional\r\n\r\nqty = Qty('1 m^2 kg^2 J^2/s^2 A');\r\n\r\nqty = Qty('1.5'); // unitless quantity\r\nqty = Qty(1.5); // number as initializing value\r\n\r\nqty = Qty('1 attoparsec/microfortnight');\r\n\r\nqtyCopy = Qty(qty); // quantity could be copied when used as\r\n                    // initializing value\r\n```\r\n\r\n`Qty.parse` utility method is also provided to parse and create\r\nquantities from strings. Unlike the constructor, it will return `null`\r\ninstead of throwing an error when parsing an invalid quantity.\r\n\r\n```javascript\r\nQty.parse('1 m'); // => 1 meter\r\nQty.parse('foo') // => null\r\n```\r\n\r\n### Available well-known kinds\r\n\r\n```javascript\r\nQty.getKinds(); // => Array of names of every well-known kind of units\r\n```\r\n\r\n### Available units of a particular kind\r\n\r\n```javascript\r\nQty.getUnits('currency'); // => [ 'dollar', 'cents' ]\r\n// Or all alphabetically sorted\r\nQty.getUnits(); // => [ 'acre','Ah','ampere','AMU','angstrom']\r\n```\r\n\r\n### Alternative names of a unit\r\n\r\n```javascript\r\nQty.getAliases('m'); // => [ 'm', 'meter', 'meters', 'metre', 'metres' ]\r\n```\r\n\r\n### Quantity compatibility, kind and various queries\r\n\r\n```javascript\r\nqty1.isCompatible(qty2); // => true or false\r\n\r\nqty.kind(); // => 'length', 'area', etc...\r\n\r\nqty.isUnitless(); // => true or false\r\nqty.isBase(); // => true if quantity is represented with base units\r\n```\r\n\r\n### Conversion\r\n\r\n```javascript\r\nqty.toBase(); // converts to SI units (10 cm => 0.1 m) (new instance)\r\n\r\nqty.toFloat(); // returns scalar of unitless quantity\r\n               // (otherwise throws error)\r\n\r\nqty.to('m'); // converts quantity to meter if compatible\r\n             // or throws an error (new instance)\r\nqty1.to(qty2); // converts quantity to same unit of qty2 if compatible\r\n               // or throws an error (new instance)\r\n\r\nqty.inverse(); // converts quantity to its inverse\r\n               // ('100 m/s' => '.01 s/m')\r\n// Inverses can be used, but there is no special checking to\r\n// rename the units\r\nQty('10ohm').inverse() // '.1/ohm'\r\n                       // (not '.1S', although they are equivalent)\r\n// however, the 'to' command will convert between inverses also\r\nQty('10ohm').to('S') // '.1S'\r\n```\r\n\r\n`Qty.swiftConverter()` is a fast way to efficiently convert large array of\r\nNumber values. It configures a function accepting a value or an array of Number\r\nvalues to convert.\r\n\r\n```javascript\r\nvar convert = Qty.swiftConverter('m/h', 'ft/s'); // Configures converter\r\n\r\n// Converting single value\r\nvar converted = convert(2500); // => 2.278..\r\n\r\n// Converting large array of values\r\nvar convertedSerie = convert([2500, 5000, ...]); // => [2.278.., 4.556.., ...]\r\n```\r\n\r\nThe main drawback of this conversion method is that it does not take care of\r\nrounding issues.\r\n\r\n### Comparison\r\n\r\n```javascript\r\nqty1.eq(qty2); // => true if both quantities are equal (1m == 100cm => true)\r\nqty1.same(qty2); // => true if both quantities are same (1m == 100cm => false)\r\nqty1.lt(qty2); // => true if qty1 is stricty less than qty2\r\nqty1.lte(qty2); // => true if qty1 is less than or equal to qty2\r\nqty1.gt(qty2); // => true if qty1 is stricty greater than qty2\r\nqty1.gte(qty2); // => true if qty1 is greater than or equal to qty2\r\n\r\nqty1.compareTo(qty2); // => -1 if qty1 < qty2,\r\n                      // => 0 if qty1 == qty2,\r\n                      // => 1 if qty1 > qty2\r\n```\r\n\r\n### Operators\r\n\r\n* add(other): Add. other can be string or quantity. other should be unit compatible.\r\n* sub(other): Substract. other can be string or quantity. other should be unit compatible.\r\n* mul(other): Multiply. other can be string, number or quantity.\r\n* div(other): Divide. other can be string, number or quantity.\r\n\r\n### Rounding\r\n\r\n`Qty#toPrec(precision)` : returns the nearest multiple of quantity passed as\r\nprecision.\r\n\r\n```javascript\r\nvar qty = Qty('5.17 ft');\r\nqty.toPrec('ft'); // => 5 ft\r\nqty.toPrec('0.5 ft'); // => 5 ft\r\nqty.toPrec('0.25 ft'); // => 5.25 ft\r\nqty.toPrec('0.1 ft'); // => 5.2 ft\r\nqty.toPrec('0.05 ft'); // => 5.15 ft\r\nqty.toPrec('0.01 ft'); // => 5.17 ft\r\nqty.toPrec('0.00001 ft'); // => 5.17 ft\r\nqty.toPrec('2 ft'); // => 6 ft\r\nqty.toPrec('2'); // => 6 ft\r\n\r\nvar qty = Qty('6.3782 m');\r\nqty.toPrec('dm'); // => 6.4 m\r\nqty.toPrec('cm'); // => 6.38 m\r\nqty.toPrec('mm'); // => 6.378 m\r\nqty.toPrec('5 cm'); // => 6.4 m\r\nqty.toPrec('10 m'); // => 10 m\r\nqty.toPrec(0.1); // => 6.3 m\r\n\r\nvar qty = Qty('1.146 MPa');\r\nqty.toPrec('0.1 bar'); // => 1.15 MPa\r\n```\r\n\r\n### Formatting quantities\r\n\r\n`Qty#toString` returns a string using the canonical form of the quantity (that\r\nis it could be seamlessly reparsed by `Qty`).\r\n\r\n```javascript\r\nvar qty = Qty('1.146 MPa');\r\nqty.toString(); // => '1.146 MPa'\r\n```\r\n\r\nAs a shorthand, units could be passed to `Qty#toString` and is equivalent to\r\nsuccessively call `Qty#to` then `Qty#toString`.\r\n\r\n```javascript\r\nvar qty = Qty('1.146 MPa');\r\nqty.toString('bar'); // => '11.46 bar'\r\nqty.to('bar').toString(); // => '11.46 bar'\r\n```\r\n\r\n`Qty#toString` could also be used with any method from `Qty` to make some sort\r\nof formatting. For instance, one could use `Qty#toPrec` to fix the maximum\r\nnumber of decimals:\r\n\r\n```javascript\r\nvar qty = Qty('1.146 MPa');\r\nqty.toPrec(0.1).toString(); // => '1.1 MPa'\r\nqty.to('bar').toPrec(0.1).toString(); // => '11.5 bar'\r\n```\r\n\r\nFor advanced formatting needs as localization, specific rounding or any other\r\ncustom customization, quantities can be transformed into strings through\r\n`Qty#format` according to optional target units and formatter. If target units\r\nare specified, the quantity is converted into them before formatting.\r\n\r\nSuch a string is not intended to be reparsed to construct a new instance of\r\n`Qty` (unlike output of `Qty#toString`).\r\n\r\nIf no formatter is specified, quantities are formatted according to default\r\njs-quantities' formatter and is equivalent to `Qty#toString`.\r\n\r\n```javascript\r\nvar qty = Qty('1.1234 m');\r\nqty.format(); // same units, default formatter => '1.234 m'\r\nqty.format('cm'); // converted to 'cm', default formatter => '123.45 cm'\r\n```\r\n\r\n`Qty#format` could delegates formatting to a custom formatter if required. A\r\nformatter is a callback function accepting scalar and units as parameters and\r\nreturning a formatted string representing the quantity.\r\n\r\n```javascript\r\nvar configurableRoundingFormatter = function(maxDecimals) {\r\n  return function(scalar, units) {\r\n    var pow = Math.pow(10, maxDecimals);\r\n    var rounded = Math.round(scalar * pow) / pow;\r\n\r\n    return rounded + ' ' + units;\r\n  };\r\n};\r\n\r\nvar qty = Qty('1.1234 m');\r\n\r\n// same units, custom formatter => '1.12 m'\r\nqty.format(configurableRoundingFormatter(2));\r\n\r\n// convert to 'cm', custom formatter => '123.4 cm'\r\nqty.format('cm', configurableRoundingFormatter(1));\r\n```\r\n\r\nCustom formatter can be configured globally by setting `Qty.formatter`.\r\n\r\n```javascript\r\nQty.formatter = configurableRoundingFormatter(2);\r\nvar qty = Qty('1.1234 m');\r\nqty.format(); // same units, current default formatter => '1.12 m'\r\n```\r\n\r\n### Temperatures\r\n\r\nLike ruby-units, JS-quantities makes a distinction between a temperature (which\r\ntechnically is a property) and degrees of temperature (which temperatures are\r\nmeasured in).\r\n\r\nTemperature units (i.e., 'tempK') can be converted back and forth, and will take\r\ninto account the differences in the zero points of the various scales.\r\nDifferential temperature (e.g., '100 degC') units behave like most other units.\r\n\r\n```javascript\r\nQty('37 tempC').to('tempF') // => 98.6 tempF\r\n```\r\n\r\nJS-quantities will throw an error if you attempt to create a temperature unit\r\nthat would fall below absolute zero.\r\n\r\nUnit math on temperatures is fairly limited.\r\n\r\n```javascript\r\nQty('100 tempC').add('10 degC')  // 110 tempC\r\nQty('100 tempC').sub('10 degC')  // 90 tempC\r\nQty('100 tempC').add('50 tempC') // throws error\r\nQty('100 tempC').sub('50 tempC') // 50 degC\r\nQty('50 tempC').sub('100 tempC') // -50 degC\r\nQty('100 tempC').mul(scalar)     // 100*scalar tempC\r\nQty('100 tempC').div(scalar)     // 100/scalar tempC\r\nQty('100 tempC').mul(qty)        // throws error\r\nQty('100 tempC').div(qty)        // throws error\r\nQty('100 tempC*unit')            // throws error\r\nQty('100 tempC/unit')            // throws error\r\nQty('100 unit/tempC')            // throws error\r\nQty('100 tempC').inverse()       // throws error\r\n```\r\n\r\n```javascript\r\nQty('100 tempC').to('degC') // => 100 degC\r\n```\r\n\r\nThis conversion references the 0 point on the scale of the temperature unit\r\n\r\n```javascript\r\nQty('100 degC').to('tempC') // => -173.15 tempC\r\n```\r\n\r\nThese conversions are always interpreted as being relative to absolute zero.\r\nConversions are probably better done like this...\r\n\r\n```javascript\r\nQty('0 tempC').add('100 degC') // => 100 tempC\r\n```\r\n\r\n### Errors\r\n\r\nEvery error thrown by JS-quantities is an instance of `Qty.Error`.\r\n\r\n```javascript\r\ntry {\r\n  // code triggering an error inside JS-quantities\r\n}\r\ncatch(e) {\r\n  if(e instanceof Qty.Error) {\r\n    // ...\r\n  }\r\n  else {\r\n    // ...\r\n  }\r\n}\r\n```\r\n\r\n## Tests\r\n\r\nTests are implemented with Jasmine (https://github.com/pivotal/jasmine).\r\nYou could use both HTML and jasmine-node runners.\r\n\r\nTo execute specs through HTML runner, just open `SpecRunner.html` file in a\r\nbrowser to execute them.\r\n\r\nTo execute specs through `jasmine-node`, launch:\r\n\r\n    make test\r\n\r\n### Performance regression test\r\n\r\nThere is a small benchmarking HTML page to spot performance regression between\r\ncurrently checked-out quantities.js and any committed version.\r\nJust execute:\r\n\r\n    make bench\r\n\r\nthen open http://0.0.0.0:3000/bench\r\n\r\nChecked-out version is benchmarked against HEAD by default but it could be changed by passing\r\nany commit SHA on the command line. Port (default 3000) is also configurable.\r\n\r\n    make bench COMMIT=e0c7fc468 PORT=5000\r\n\r\n## Contribute\r\n\r\nFeedback and contributions are welcomed.\r\n\r\nPull requests must pass tests and linting. Please make sure that `make test`\r\nand `make lint` return no errors before submitting.\r\n",
  "google": "",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}